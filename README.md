[![develop build check and CI check on docker](https://github.com/Two-Potatoes/BobJoying-Back/actions/workflows/develop-ci.yml/badge.svg)](https://github.com/Two-Potatoes/BobJoying-Back/actions/workflows/develop-ci.yml)

# ğŸš ë°¥ì¡°ì‰ ğŸš

### ğŸ™†â€â™€ï¸ ë‚´ ì† ì•ˆì— ëƒ‰ì¥ê³  ğŸ™†â€â™‚ï¸

í”„ë¡œì íŠ¸ ê¸°ê°„ : 2024/01/31 ~

ğŸ™‹â€â™€ï¸ ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ”ìš”...

1. ëƒ‰ì¥ê³ ì˜ **ì‹ì¬ë£Œë¥¼ ê´€ë¦¬**í•´ì¤˜ìš”! - ê°œë°œ ì¤‘â©
2. ëƒ‰ì¥ê³ ì˜ ì‹ì¬ë£Œë¡œ í•  ìˆ˜ ìˆëŠ” **ë ˆì‹œí”¼ë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬**í•  ìˆ˜ ìˆì–´ìš”! - ê°œë°œ ì¤‘â©
3. ëƒ‰ì¥ê³ ë¥¼ ê³µìœ í•˜ëŠ” ê·¸ë£¹ì›ì—ê²Œ ë¨¹ê³  ì‹¶ì€ **ë ˆì‹œí”¼ë¥¼ ìš”ì²­**í•  ìˆ˜ ìˆì–´ìš”! - ê°œë°œ ì¤‘â©
4. **ì‹ì‚¬ ê¸°ë¡**ì´ ê°€ëŠ¥í•˜ê³  ê·¸ë£¹ì›ë“¤ì˜ ì˜¤ëŠ˜ ì‹ì‚¬ ê¸°ë¡ì„ **í”¼ë“œ**ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”! - ê°œë°œ ì¤‘â©

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/8c5fadcd-acc6-4031-bc3a-b5711cabf110" width="400px">

### [ğŸ“š ë°¥ì¡°ì‰ Notion ë³´ëŸ¬ ê°€ê¸°](https://two-potatoes.notion.site/BobJoying-ed09d53973684322a47bef4abfafa8e3?pvs=4)

<br>

## ğŸ“ Architecture

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/8d6575b8-7b57-470b-bc0f-39894796dcb9" width="700px">

<br><br>

## ğŸ’¬ ERD

###### í† ê¸€ì„ ëˆ„ë¥´ë©´ ERDë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

<details>
<summary> ERD ë³´ê¸° </summary>

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/34b7e361-b723-40a5-a5d2-ac34935b5c0e">

</details>

<br>

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

<img src="https://img.shields.io/badge/Java-007396?style=flat-square&logo=OpenJDK&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Spring-6DB33F?style=flat-square&logo=spring&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Spring Boot-6DB33F?style=flat-square&logo=springboot&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Spring Security-6DB33F?style=flat-square&logo=springsecurity&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/GraphQL-E10098?style=flat-square&logo=graphql&logoColor=white">&nbsp;

<img src="https://img.shields.io/badge/PostgreSQL-4169E1?style=flat-square&logo=postgresql&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Redis-DC382D?style=flat-square&logo=redis&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Querydsl-3E87D0?style=flat-square&logo=querydsl&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Docker-2496ED?style=flat-square&logo=docker&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Gradle-02303A?style=flat-square&logo=gradle&logoColor=white">&nbsp;

<img src="https://img.shields.io/badge/GitHub Actions-2088FF?style=flat-square&logo=githubactions&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Notion-000000?style=flat-square&logo=notion&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Slack-4A154B?style=flat-square&logo=slack&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Altair-368CBF?style=flat-square&logo=&logoColor=white">&nbsp;

<br>

## âœ¨ í”„ë¡œì íŠ¸ ìë‘

###### í† ê¸€ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<details>
<summary> 1. ğŸ³ CIì—ì„œ test ì½”ë“œë¥¼ checkí•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ë„ì»¤ì—ì„œ buildí•´ë³¸ í›„ ê²°ê³¼ë¥¼ ìŠ¬ë™ìœ¼ë¡œ ì•Œë¦¼ì´ ì˜¤ë„ë¡ í–ˆì–´ìš”!</summary>

<br>

* CI test code í†µê³¼ ê²°ê³¼ë¥¼ PR commentì— ë‚¨ê¸°ë„ë¡ í–ˆì–´ìš”!

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/e771f023-b2e9-4ea0-ae43-c8035231c0bf">

* ë„ì»¤ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ build test í•´ë´ìš”!

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/0a8517dc-2e4f-4609-ab94-f6d16ef8f538">

* CI ê²°ê³¼ë¥¼ ìŠ¬ë™ ì±„ë„ì—ì„œ ì»¤ìŠ¤í…€í•œ ì•Œë¦¼ìœ¼ë¡œ ë°›ì•„ë³¼ ìˆ˜ ìˆì–´ìš”!

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/bc3db56a-f22c-47f6-9398-a64e90337a67">
<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/e7540b39-1924-42fe-83ef-e23963bc3446">

---

</details>

<details>
<summary> 2. ğŸ¤ Backlogì™€ ìŠ¤í”„ë¦°íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ í˜‘ì—…ê³¼ ì‘ì—…ì˜ íš¨ìœ¨ì„ ë†’ì˜€ì–´ìš”!</summary>

<br>

* ê°œë°œê³¼ ê´€ë ¨ëœ í•  ì¼ë“¤ì€ ìƒê°ë‚˜ëŠ” ëŒ€ë¡œ `Backlog`ì— ìŒ“ì•„ìš”!

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/869a3eb6-a179-4db0-b70e-4f0296891e83">

* Backlogì— ìˆëŠ” ì‘ì—… ì¤‘ ìš°ì„ ì ìœ¼ë¡œ í•´ì•¼ í•  ì¼ì„ `ìŠ¤í”„ë¦°íŠ¸`ì— ì»¤ë°‹í•œ í›„ ì‘ì—…í•´ìš”!

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/22a18fe2-ec94-4fe9-ac87-231fefc531eb">

---

</details>

<details>
<summary> 3. ğŸ”” Pull Requestì—ì„œ ë¦¬ë·° ìš”ì²­, ë¦¬ë·° ì œì¶œ ì‹œ ìŠ¬ë™ìœ¼ë¡œ ì•Œë¦¼ì´ ì˜¤ë„ë¡ í–ˆì–´ìš”!</summary>

<br>

* `Pull Request`ì—ì„œ <u>**ë¦¬ë·°ì–´ë¥¼ í• ë‹¹**</u>í•˜ë©´ ìŠ¬ë™ìœ¼ë¡œ ë©”ì‹œì§€ê°€ ì™€ìš”!

ë¦¬ë·°ì–´ê°€ í• ë‹¹ë˜ë©´~

![image](https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/200a6789-f750-4227-90b1-f2e938d610ba)

ìŠ¬ë™ì—ì„œ ë¦¬ë·°ì–´ë¥¼ ë©˜ì…˜í•˜ê³  `PR Title`ì— `PR` ë§í¬ë¥¼ ê±¸ì–´ ë¦¬ë·°ë¥¼ í•  ìˆ˜ ìˆë„ë¡ í–ˆì–´ìš”!

![image](https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/916c44df-d6aa-4856-8cb7-b5bfed528d46)

<br>

* `Pull Request`ì—ì„œ <u>**ë¦¬ë·°ë¥¼ ì œì¶œ**</u>í•˜ë©´ ìŠ¬ë™ìœ¼ë¡œ ë©”ì‹œì§€ê°€ ì™€ìš”!

ë¦¬ë·°ë¥¼ ì œì¶œí•˜ë©´(`submit`)~

![image](https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/c4d55269-4967-4cdb-8317-96d9b2e0eda9)

ìŠ¬ë™ì—ì„œ PR ìš”ì²­í•œ ì‚¬ëŒì„ ë©˜ì…˜í•˜ê³  ëˆ„ê°€ ë¦¬ë·°ë¥¼ ë‹¬ì•˜ëŠ”ì§€ ì•Œë ¤ì£¼ê³  `PR` ë§í¬ë¥¼ ê±¸ì–´ ë¦¬ë·°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í–ˆì–´ìš”!

![image](https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/95da636c-2f06-4c18-83df-0a4c669cfba5)

---

</details>

<!--ë°°í¬ í›„ ì¶”ê°€ ê°œì„ ì , ë²„ì „ì— ë”°ë¥¸ ê¸°ëŠ¥ ê¸°ë¡-->

<br>

## ğŸ¯ Trouble Shooting

###### í•´ë‹¹ í•­ëª©ì„ í´ë¦­í•˜ë©´ íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ê³¼ì •ì„ ì •ë¦¬í•œ ë¸”ë¡œê·¸ë¡œ ì´ë™í•©ë‹ˆë‹¤.

[1. GraphQL - mutation ì‹¤í–‰ ì‹œ í•„ë“œê°’ì´ nullë¡œ ë“¤ì–´ì˜¤ëŠ” ì˜¤ë¥˜](https://argente29.tistory.com/144)

[2. Dockerì—ì„œ Spring Boot í”„ë¡œì íŠ¸ build ì‹œ GraphQL ìš”ì²­ì„ ë³´ë‚´ì§€ ëª»í•˜ëŠ” ì˜¤ë¥˜](https://argente29.tistory.com/143)

[3. Slack Webhookì„ ì´ìš©í•œ ë©”ì‹œì§€ ë¯¸ë¦¬ë³´ê¸°ê°€ ì•ˆ ë˜ëŠ” ì˜¤ë¥˜](https://argente29.tistory.com/145)

[4. ë§Œë£Œëœ í† í°ì—ì„œ í† í°ì— ì €ì¥ëœ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜](https://argente29.tistory.com/146)

[5. Redis Docker Containerì™€ Spring Boot ì—°ê²°ì´ ì•ˆ ë˜ëŠ” ì˜¤ë¥˜](https://argente29.tistory.com/147)


<br>

## ğŸ³ Docker Compose build 

###### í† ê¸€ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

##### 1ï¸âƒ£ `application-docker.yml` íŒŒì¼ì„ `main/resources`ì— ìƒì„±í•©ë‹ˆë‹¤. (Dockerìš© í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼)

<details>
<summary>application-docker.yml</summary>

```yaml
spring:
  graphql:
    schema:
      locations: file:/app/graphql/**
    graphiql:
      enabled: true
  datasource:
    url: { Docker_DB_URL }
    username: { Docker_DB_Username }
    password: { Docker_DB_Password }
    driver-class-name: org.postgresql.Driver
  data:
    redis:
      password: { Docker_Redis_Password }
      port: 6378      # ë¡œì»¬ Redisì˜ portì™€ ì¶©ëŒì´ ìƒê¸¸ ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ
      host: host.docker.internal
JWT_SECRET_KEY: { BASE64ë¡œ encodingëœ key }
```

</details>

##### 2ï¸âƒ£ í”„ë¡œì íŠ¸ ê°€ì¥ ìƒìœ„ í´ë”ì— `.env` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. (Docker compose script í™˜ê²½ë³€ìˆ˜ ì„¤ì •)

<details>
<summary>.env</summary>
  
```text
POSTGRES_DB={Docker_DB_name}
POSTGRES_USER={Docker_DB_username}
POSTGRES_PASSWORD={Docker_DB_password}

POSTGRES_LOCAL_PORT=5433
POSTGRES_DOCKER_PORT=5432

SPRING_LOCAL_PORT=8080
SPRING_DOCKER_PORT=8080

REDIS_LOCAL_PORT=6378
REDIS_DOCKER_PORT=6379
```

</details>

##### 3ï¸âƒ£ `application.properties` íŒŒì¼ì„ `main/resources`ì— ìƒì„±í•©ë‹ˆë‹¤. (ë¡œì»¬ buildìš©)

<details>
<summary>application.properties</summary>

```text
spring.datasource.url={ ë¡œì»¬_DB_URL }
spring.datasource.username={ ë¡œì»¬_DB_Username }
spring.datasource.password={ ë¡œì»¬_DB_Password }
spring.datasource.driver-class-name=org.postgresql.Driver

# GraphQL
# graphiqlì„ í†µí•´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ ì—¬ë¶€ (localhost:8080/graphiql)
spring.graphql.graphiql.enabled=true

# JWT
JWT_SECRET_KEY={ BASE64ë¡œ encodingëœ key }

# Redis
spring.data.redis.password={ ë¡œì»¬_Redis_Password }
spring.data.redis.port=6379
spring.data.redis.host=localhost
```

</details>

##### 4ï¸âƒ£ ë¡œì»¬ì—ì„œ projectë¥¼ buildí•´ì„œ `jar`íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

##### 5ï¸âƒ£ í„°ë¯¸ë„ì—ì„œ docker compose ì‹¤í–‰ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ buildí•©ë‹ˆë‹¤.

```shell
docker-compose -f docker-compose-dev.yml up -d
```

##### â• Docker Postgres ì»¨í…Œì´ë„ˆ ì ‘ì† ëª…ë ¹ì–´

```shell
docker exec -it {postgres ì»¨í…Œì´ë„ˆ ì´ë¦„} bash
```

<br>

## ğŸ‘­ ìš°ë¦¬ íŒ€ì€ìš”

### Team ê°ìë‘ë¦¬ ğŸ¥”ğŸ¥”

ğŸŒ± ê°ì ë‘˜ì´ì„œ ê¿ˆí‹€ê¿ˆí‹€ ì„±ì¥í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤! ğŸŒ±

<img src="https://github.com/Two-Potatoes/BobJoying-Back/assets/130378232/e3100894-4eda-407f-9a99-dfccc18c3031" width=300px>

<br>

|ì—­í• |ì´ë¦„|GitHub|
|:---:|:---:|---|
|BE|í‘œì§€ìˆ˜|https://github.com/JisooPyo|
|FE|ì¡°ë„í”|https://github.com/doheuncho|

